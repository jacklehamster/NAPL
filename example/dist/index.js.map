{
  "version": 3,
  "sources": ["../../src/cycles/data-update/data-update.ts", "../../node_modules/@msgpack/msgpack/dist.esm/utils/utf8.mjs", "../../node_modules/@msgpack/msgpack/dist.esm/ExtData.mjs", "../../node_modules/@msgpack/msgpack/dist.esm/DecodeError.mjs", "../../node_modules/@msgpack/msgpack/dist.esm/utils/int.mjs", "../../node_modules/@msgpack/msgpack/dist.esm/timestamp.mjs", "../../node_modules/@msgpack/msgpack/dist.esm/ExtensionCodec.mjs", "../../node_modules/@msgpack/msgpack/dist.esm/utils/typedArrays.mjs", "../../node_modules/@msgpack/msgpack/dist.esm/Encoder.mjs", "../../node_modules/@msgpack/msgpack/dist.esm/encode.mjs", "../../node_modules/@msgpack/msgpack/dist.esm/utils/prettyByte.mjs", "../../node_modules/@msgpack/msgpack/dist.esm/CachedKeyDecoder.mjs", "../../node_modules/@msgpack/msgpack/dist.esm/Decoder.mjs", "../../node_modules/@msgpack/msgpack/dist.esm/decode.mjs", "../../src/observer/Observer.ts", "../../src/observer/ObserverManager.ts", "../../src/core/Processor.ts", "../../src/cycles/data-update/data-manager.ts", "../../src/clients/CommInterfaceHook.ts", "../../src/core/Program.ts", "../../src/core/Sample.ts", "../node_modules/@dobuki/hello-worker/dist/webrtc-room.js", "../node_modules/@dobuki/hello-worker/dist/signal-room.js", "../src/index.ts"],
  "sourcesContent": [
    "import { Update } from \"../../types/Update\";\nimport { Data } from \"../../types/Data\";\n\nconst KEYS = \"~{keys}\";\nconst VALUES = \"~{values}\";\nconst REGEX = /~\\{([^}]+)\\}/;\n\n// This function is used to commit updates to the root object\nexport function commitUpdates(\n  root: Data,\n  updates: Update[],\n  properties: Record<string, any>,\n  updatedPaths: Record<string, any> = {}) {\n\n  if (!updates.length) {\n    return updatedPaths;\n  }\n  sortUpdates(updates);\n  updates.forEach((update) => {\n    if (!update.confirmed) {\n      return;\n    }\n\n    const parts = update.path.split(\"/\");\n    const leaf: any = getLeafObject(root, parts, 1, true);\n    const prop = parts[parts.length - 1];\n    const value = translateValue(update.value, properties);\n    if (update.append) {\n      if (!Array.isArray(leaf[prop])) {\n        leaf[prop] = [];\n      }\n      leaf[prop] = [...leaf[prop], value];\n    } else if ((update.insert ?? -1) >= 0) {\n      if (!Array.isArray(leaf[prop])) {\n        leaf[prop] = [];\n      }\n      leaf[prop] = [...leaf[prop].slice(0, (update.insert ?? -1)), value, ...leaf[prop].slice(update.insert)];\n    } else if ((update.delete ?? -1) >= 0) {\n      if (Array.isArray(leaf[prop])) {\n        leaf[prop] = [...leaf[prop].slice(0, update.delete), ...leaf[prop].slice((update.delete ?? -1) + 1)];\n      }\n    } else if (value === undefined) {\n      delete leaf[prop];\n      cleanupRoot(root, parts, 0);\n    } else {\n      leaf[prop] = value;\n    }\n    updatedPaths[update.path] = leaf[prop];\n  });\n  let size = 0;\n  for (let i = 0; i < updates.length; i++) {\n    updates[size] = updates[i];\n    if (updates[i].path in updatedPaths) {\n      size++;\n    }\n  }\n  updates.length = size;\n  return updatedPaths;\n}\n\n// This function is used to remove empty objects from the root object\nfunction cleanupRoot(root: Record<string, any>, parts: (string | number)[], index: number) {\n  if (!root || typeof (root) !== \"object\" || Array.isArray(root)) {\n    return false;\n  }\n  if (cleanupRoot(root[parts[index]], parts, index + 1)) {\n    delete root[parts[index]];\n  }\n  return Object.keys(root).length === 0;\n}\n\nfunction sortUpdates(updates: Update[]) {\n  updates.sort((a, b) => {\n    const confirmedA = a.confirmed ?? 0;\n    const confirmedB = b.confirmed ?? 0;\n    if (confirmedA !== confirmedB) {\n      return confirmedA - confirmedB;\n    }\n    return a.path.localeCompare(b.path);\n  });\n}\n\n//  Dig into the object to get the leaf object, given the parts of the path\nexport function getLeafObject(obj: Record<string, any>, parts: (string | number)[], offset: number, autoCreate: boolean, properties: Record<string, any> = {}) {\n  let current = obj;\n  for (let i = 0; i < parts.length - offset; i++) {\n    const prop = parts[i];\n    const value = translateProp(current, prop, properties, autoCreate);\n    if (value === undefined) {\n      return value;\n    }\n    current = value;\n  }\n  return current;\n}\n\nexport function translateValue(value: any, properties: Record<string, any>) {\n  if (typeof value !== \"string\") {\n    return value;\n  }\n  if (value.startsWith(\"~{\") && value.endsWith(\"}\")) {\n    switch (value) {\n      default:\n        const group = value.match(REGEX);\n        if (group) {\n          return properties[group[1]];\n        }\n    }\n  }\n  return value;\n}\n\nfunction translateProp(obj: any, prop: string | number, properties: Record<string, any>, autoCreate: boolean) {\n  let value;\n  if (typeof prop !== \"string\") {\n    value = obj[prop];\n  } else if (prop.startsWith(\"~{\") && prop.endsWith(\"}\")) {\n    switch (prop) {\n      case KEYS:\n        return Object.keys(obj ?? {});\n      case VALUES:\n        return Object.values(obj ?? {});\n      default:\n        return obj[translateValue(prop, properties)];\n    }\n  } else {\n    value = obj[prop];\n  }\n  if (value === undefined && autoCreate) {\n    value = obj[prop] = {};\n  }\n  return value;\n}\n\n//  Mark the update as confirmed\nexport function markUpdateConfirmed(update: Update, now: number) {\n  if (!update.confirmed) {\n    update.confirmed = now;\n  }\n}\n",
    "export function utf8Count(str) {\n    const strLength = str.length;\n    let byteLength = 0;\n    let pos = 0;\n    while (pos < strLength) {\n        let value = str.charCodeAt(pos++);\n        if ((value & 0xffffff80) === 0) {\n            // 1-byte\n            byteLength++;\n            continue;\n        }\n        else if ((value & 0xfffff800) === 0) {\n            // 2-bytes\n            byteLength += 2;\n        }\n        else {\n            // handle surrogate pair\n            if (value >= 0xd800 && value <= 0xdbff) {\n                // high surrogate\n                if (pos < strLength) {\n                    const extra = str.charCodeAt(pos);\n                    if ((extra & 0xfc00) === 0xdc00) {\n                        ++pos;\n                        value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000;\n                    }\n                }\n            }\n            if ((value & 0xffff0000) === 0) {\n                // 3-byte\n                byteLength += 3;\n            }\n            else {\n                // 4-byte\n                byteLength += 4;\n            }\n        }\n    }\n    return byteLength;\n}\nexport function utf8EncodeJs(str, output, outputOffset) {\n    const strLength = str.length;\n    let offset = outputOffset;\n    let pos = 0;\n    while (pos < strLength) {\n        let value = str.charCodeAt(pos++);\n        if ((value & 0xffffff80) === 0) {\n            // 1-byte\n            output[offset++] = value;\n            continue;\n        }\n        else if ((value & 0xfffff800) === 0) {\n            // 2-bytes\n            output[offset++] = ((value >> 6) & 0x1f) | 0xc0;\n        }\n        else {\n            // handle surrogate pair\n            if (value >= 0xd800 && value <= 0xdbff) {\n                // high surrogate\n                if (pos < strLength) {\n                    const extra = str.charCodeAt(pos);\n                    if ((extra & 0xfc00) === 0xdc00) {\n                        ++pos;\n                        value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000;\n                    }\n                }\n            }\n            if ((value & 0xffff0000) === 0) {\n                // 3-byte\n                output[offset++] = ((value >> 12) & 0x0f) | 0xe0;\n                output[offset++] = ((value >> 6) & 0x3f) | 0x80;\n            }\n            else {\n                // 4-byte\n                output[offset++] = ((value >> 18) & 0x07) | 0xf0;\n                output[offset++] = ((value >> 12) & 0x3f) | 0x80;\n                output[offset++] = ((value >> 6) & 0x3f) | 0x80;\n            }\n        }\n        output[offset++] = (value & 0x3f) | 0x80;\n    }\n}\n// TextEncoder and TextDecoder are standardized in whatwg encoding:\n// https://encoding.spec.whatwg.org/\n// and available in all the modern browsers:\n// https://caniuse.com/textencoder\n// They are available in Node.js since v12 LTS as well:\n// https://nodejs.org/api/globals.html#textencoder\nconst sharedTextEncoder = new TextEncoder();\n// This threshold should be determined by benchmarking, which might vary in engines and input data.\n// Run `npx ts-node benchmark/encode-string.ts` for details.\nconst TEXT_ENCODER_THRESHOLD = 50;\nexport function utf8EncodeTE(str, output, outputOffset) {\n    sharedTextEncoder.encodeInto(str, output.subarray(outputOffset));\n}\nexport function utf8Encode(str, output, outputOffset) {\n    if (str.length > TEXT_ENCODER_THRESHOLD) {\n        utf8EncodeTE(str, output, outputOffset);\n    }\n    else {\n        utf8EncodeJs(str, output, outputOffset);\n    }\n}\nconst CHUNK_SIZE = 4096;\nexport function utf8DecodeJs(bytes, inputOffset, byteLength) {\n    let offset = inputOffset;\n    const end = offset + byteLength;\n    const units = [];\n    let result = \"\";\n    while (offset < end) {\n        const byte1 = bytes[offset++];\n        if ((byte1 & 0x80) === 0) {\n            // 1 byte\n            units.push(byte1);\n        }\n        else if ((byte1 & 0xe0) === 0xc0) {\n            // 2 bytes\n            const byte2 = bytes[offset++] & 0x3f;\n            units.push(((byte1 & 0x1f) << 6) | byte2);\n        }\n        else if ((byte1 & 0xf0) === 0xe0) {\n            // 3 bytes\n            const byte2 = bytes[offset++] & 0x3f;\n            const byte3 = bytes[offset++] & 0x3f;\n            units.push(((byte1 & 0x1f) << 12) | (byte2 << 6) | byte3);\n        }\n        else if ((byte1 & 0xf8) === 0xf0) {\n            // 4 bytes\n            const byte2 = bytes[offset++] & 0x3f;\n            const byte3 = bytes[offset++] & 0x3f;\n            const byte4 = bytes[offset++] & 0x3f;\n            let unit = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0c) | (byte3 << 0x06) | byte4;\n            if (unit > 0xffff) {\n                unit -= 0x10000;\n                units.push(((unit >>> 10) & 0x3ff) | 0xd800);\n                unit = 0xdc00 | (unit & 0x3ff);\n            }\n            units.push(unit);\n        }\n        else {\n            units.push(byte1);\n        }\n        if (units.length >= CHUNK_SIZE) {\n            result += String.fromCharCode(...units);\n            units.length = 0;\n        }\n    }\n    if (units.length > 0) {\n        result += String.fromCharCode(...units);\n    }\n    return result;\n}\nconst sharedTextDecoder = new TextDecoder();\n// This threshold should be determined by benchmarking, which might vary in engines and input data.\n// Run `npx ts-node benchmark/decode-string.ts` for details.\nconst TEXT_DECODER_THRESHOLD = 200;\nexport function utf8DecodeTD(bytes, inputOffset, byteLength) {\n    const stringBytes = bytes.subarray(inputOffset, inputOffset + byteLength);\n    return sharedTextDecoder.decode(stringBytes);\n}\nexport function utf8Decode(bytes, inputOffset, byteLength) {\n    if (byteLength > TEXT_DECODER_THRESHOLD) {\n        return utf8DecodeTD(bytes, inputOffset, byteLength);\n    }\n    else {\n        return utf8DecodeJs(bytes, inputOffset, byteLength);\n    }\n}\n//# sourceMappingURL=utf8.mjs.map",
    "/**\n * ExtData is used to handle Extension Types that are not registered to ExtensionCodec.\n */\nexport class ExtData {\n    type;\n    data;\n    constructor(type, data) {\n        this.type = type;\n        this.data = data;\n    }\n}\n//# sourceMappingURL=ExtData.mjs.map",
    "export class DecodeError extends Error {\n    constructor(message) {\n        super(message);\n        // fix the prototype chain in a cross-platform way\n        const proto = Object.create(DecodeError.prototype);\n        Object.setPrototypeOf(this, proto);\n        Object.defineProperty(this, \"name\", {\n            configurable: true,\n            enumerable: false,\n            value: DecodeError.name,\n        });\n    }\n}\n//# sourceMappingURL=DecodeError.mjs.map",
    "// Integer Utility\nexport const UINT32_MAX = 4294967295;\n// DataView extension to handle int64 / uint64,\n// where the actual range is 53-bits integer (a.k.a. safe integer)\nexport function setUint64(view, offset, value) {\n    const high = value / 4294967296;\n    const low = value; // high bits are truncated by DataView\n    view.setUint32(offset, high);\n    view.setUint32(offset + 4, low);\n}\nexport function setInt64(view, offset, value) {\n    const high = Math.floor(value / 4294967296);\n    const low = value; // high bits are truncated by DataView\n    view.setUint32(offset, high);\n    view.setUint32(offset + 4, low);\n}\nexport function getInt64(view, offset) {\n    const high = view.getInt32(offset);\n    const low = view.getUint32(offset + 4);\n    return high * 4294967296 + low;\n}\nexport function getUint64(view, offset) {\n    const high = view.getUint32(offset);\n    const low = view.getUint32(offset + 4);\n    return high * 4294967296 + low;\n}\n//# sourceMappingURL=int.mjs.map",
    "// https://github.com/msgpack/msgpack/blob/master/spec.md#timestamp-extension-type\nimport { DecodeError } from \"./DecodeError.mjs\";\nimport { getInt64, setInt64 } from \"./utils/int.mjs\";\nexport const EXT_TIMESTAMP = -1;\nconst TIMESTAMP32_MAX_SEC = 0x100000000 - 1; // 32-bit unsigned int\nconst TIMESTAMP64_MAX_SEC = 0x400000000 - 1; // 34-bit unsigned int\nexport function encodeTimeSpecToTimestamp({ sec, nsec }) {\n    if (sec >= 0 && nsec >= 0 && sec <= TIMESTAMP64_MAX_SEC) {\n        // Here sec >= 0 && nsec >= 0\n        if (nsec === 0 && sec <= TIMESTAMP32_MAX_SEC) {\n            // timestamp 32 = { sec32 (unsigned) }\n            const rv = new Uint8Array(4);\n            const view = new DataView(rv.buffer);\n            view.setUint32(0, sec);\n            return rv;\n        }\n        else {\n            // timestamp 64 = { nsec30 (unsigned), sec34 (unsigned) }\n            const secHigh = sec / 0x100000000;\n            const secLow = sec & 0xffffffff;\n            const rv = new Uint8Array(8);\n            const view = new DataView(rv.buffer);\n            // nsec30 | secHigh2\n            view.setUint32(0, (nsec << 2) | (secHigh & 0x3));\n            // secLow32\n            view.setUint32(4, secLow);\n            return rv;\n        }\n    }\n    else {\n        // timestamp 96 = { nsec32 (unsigned), sec64 (signed) }\n        const rv = new Uint8Array(12);\n        const view = new DataView(rv.buffer);\n        view.setUint32(0, nsec);\n        setInt64(view, 4, sec);\n        return rv;\n    }\n}\nexport function encodeDateToTimeSpec(date) {\n    const msec = date.getTime();\n    const sec = Math.floor(msec / 1e3);\n    const nsec = (msec - sec * 1e3) * 1e6;\n    // Normalizes { sec, nsec } to ensure nsec is unsigned.\n    const nsecInSec = Math.floor(nsec / 1e9);\n    return {\n        sec: sec + nsecInSec,\n        nsec: nsec - nsecInSec * 1e9,\n    };\n}\nexport function encodeTimestampExtension(object) {\n    if (object instanceof Date) {\n        const timeSpec = encodeDateToTimeSpec(object);\n        return encodeTimeSpecToTimestamp(timeSpec);\n    }\n    else {\n        return null;\n    }\n}\nexport function decodeTimestampToTimeSpec(data) {\n    const view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n    // data may be 32, 64, or 96 bits\n    switch (data.byteLength) {\n        case 4: {\n            // timestamp 32 = { sec32 }\n            const sec = view.getUint32(0);\n            const nsec = 0;\n            return { sec, nsec };\n        }\n        case 8: {\n            // timestamp 64 = { nsec30, sec34 }\n            const nsec30AndSecHigh2 = view.getUint32(0);\n            const secLow32 = view.getUint32(4);\n            const sec = (nsec30AndSecHigh2 & 0x3) * 0x100000000 + secLow32;\n            const nsec = nsec30AndSecHigh2 >>> 2;\n            return { sec, nsec };\n        }\n        case 12: {\n            // timestamp 96 = { nsec32 (unsigned), sec64 (signed) }\n            const sec = getInt64(view, 4);\n            const nsec = view.getUint32(0);\n            return { sec, nsec };\n        }\n        default:\n            throw new DecodeError(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${data.length}`);\n    }\n}\nexport function decodeTimestampExtension(data) {\n    const timeSpec = decodeTimestampToTimeSpec(data);\n    return new Date(timeSpec.sec * 1e3 + timeSpec.nsec / 1e6);\n}\nexport const timestampExtension = {\n    type: EXT_TIMESTAMP,\n    encode: encodeTimestampExtension,\n    decode: decodeTimestampExtension,\n};\n//# sourceMappingURL=timestamp.mjs.map",
    "// ExtensionCodec to handle MessagePack extensions\nimport { ExtData } from \"./ExtData.mjs\";\nimport { timestampExtension } from \"./timestamp.mjs\";\nexport class ExtensionCodec {\n    static defaultCodec = new ExtensionCodec();\n    // ensures ExtensionCodecType<X> matches ExtensionCodec<X>\n    // this will make type errors a lot more clear\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    __brand;\n    // built-in extensions\n    builtInEncoders = [];\n    builtInDecoders = [];\n    // custom extensions\n    encoders = [];\n    decoders = [];\n    constructor() {\n        this.register(timestampExtension);\n    }\n    register({ type, encode, decode, }) {\n        if (type >= 0) {\n            // custom extensions\n            this.encoders[type] = encode;\n            this.decoders[type] = decode;\n        }\n        else {\n            // built-in extensions\n            const index = -1 - type;\n            this.builtInEncoders[index] = encode;\n            this.builtInDecoders[index] = decode;\n        }\n    }\n    tryToEncode(object, context) {\n        // built-in extensions\n        for (let i = 0; i < this.builtInEncoders.length; i++) {\n            const encodeExt = this.builtInEncoders[i];\n            if (encodeExt != null) {\n                const data = encodeExt(object, context);\n                if (data != null) {\n                    const type = -1 - i;\n                    return new ExtData(type, data);\n                }\n            }\n        }\n        // custom extensions\n        for (let i = 0; i < this.encoders.length; i++) {\n            const encodeExt = this.encoders[i];\n            if (encodeExt != null) {\n                const data = encodeExt(object, context);\n                if (data != null) {\n                    const type = i;\n                    return new ExtData(type, data);\n                }\n            }\n        }\n        if (object instanceof ExtData) {\n            // to keep ExtData as is\n            return object;\n        }\n        return null;\n    }\n    decode(data, type, context) {\n        const decodeExt = type < 0 ? this.builtInDecoders[-1 - type] : this.decoders[type];\n        if (decodeExt) {\n            return decodeExt(data, type, context);\n        }\n        else {\n            // decode() does not fail, returns ExtData instead.\n            return new ExtData(type, data);\n        }\n    }\n}\n//# sourceMappingURL=ExtensionCodec.mjs.map",
    "function isArrayBufferLike(buffer) {\n    return (buffer instanceof ArrayBuffer || (typeof SharedArrayBuffer !== \"undefined\" && buffer instanceof SharedArrayBuffer));\n}\nexport function ensureUint8Array(buffer) {\n    if (buffer instanceof Uint8Array) {\n        return buffer;\n    }\n    else if (ArrayBuffer.isView(buffer)) {\n        return new Uint8Array(buffer.buffer, buffer.byteOffset, buffer.byteLength);\n    }\n    else if (isArrayBufferLike(buffer)) {\n        return new Uint8Array(buffer);\n    }\n    else {\n        // ArrayLike<number>\n        return Uint8Array.from(buffer);\n    }\n}\n//# sourceMappingURL=typedArrays.mjs.map",
    "import { utf8Count, utf8Encode } from \"./utils/utf8.mjs\";\nimport { ExtensionCodec } from \"./ExtensionCodec.mjs\";\nimport { setInt64, setUint64 } from \"./utils/int.mjs\";\nimport { ensureUint8Array } from \"./utils/typedArrays.mjs\";\nexport const DEFAULT_MAX_DEPTH = 100;\nexport const DEFAULT_INITIAL_BUFFER_SIZE = 2048;\nexport class Encoder {\n    extensionCodec;\n    context;\n    useBigInt64;\n    maxDepth;\n    initialBufferSize;\n    sortKeys;\n    forceFloat32;\n    ignoreUndefined;\n    forceIntegerToFloat;\n    pos;\n    view;\n    bytes;\n    entered = false;\n    constructor(options) {\n        this.extensionCodec = options?.extensionCodec ?? ExtensionCodec.defaultCodec;\n        this.context = options?.context; // needs a type assertion because EncoderOptions has no context property when ContextType is undefined\n        this.useBigInt64 = options?.useBigInt64 ?? false;\n        this.maxDepth = options?.maxDepth ?? DEFAULT_MAX_DEPTH;\n        this.initialBufferSize = options?.initialBufferSize ?? DEFAULT_INITIAL_BUFFER_SIZE;\n        this.sortKeys = options?.sortKeys ?? false;\n        this.forceFloat32 = options?.forceFloat32 ?? false;\n        this.ignoreUndefined = options?.ignoreUndefined ?? false;\n        this.forceIntegerToFloat = options?.forceIntegerToFloat ?? false;\n        this.pos = 0;\n        this.view = new DataView(new ArrayBuffer(this.initialBufferSize));\n        this.bytes = new Uint8Array(this.view.buffer);\n    }\n    clone() {\n        // Because of slightly special argument `context`,\n        // type assertion is needed.\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        return new Encoder({\n            extensionCodec: this.extensionCodec,\n            context: this.context,\n            useBigInt64: this.useBigInt64,\n            maxDepth: this.maxDepth,\n            initialBufferSize: this.initialBufferSize,\n            sortKeys: this.sortKeys,\n            forceFloat32: this.forceFloat32,\n            ignoreUndefined: this.ignoreUndefined,\n            forceIntegerToFloat: this.forceIntegerToFloat,\n        });\n    }\n    reinitializeState() {\n        this.pos = 0;\n    }\n    /**\n     * This is almost equivalent to {@link Encoder#encode}, but it returns an reference of the encoder's internal buffer and thus much faster than {@link Encoder#encode}.\n     *\n     * @returns Encodes the object and returns a shared reference the encoder's internal buffer.\n     */\n    encodeSharedRef(object) {\n        if (this.entered) {\n            const instance = this.clone();\n            return instance.encodeSharedRef(object);\n        }\n        try {\n            this.entered = true;\n            this.reinitializeState();\n            this.doEncode(object, 1);\n            return this.bytes.subarray(0, this.pos);\n        }\n        finally {\n            this.entered = false;\n        }\n    }\n    /**\n     * @returns Encodes the object and returns a copy of the encoder's internal buffer.\n     */\n    encode(object) {\n        if (this.entered) {\n            const instance = this.clone();\n            return instance.encode(object);\n        }\n        try {\n            this.entered = true;\n            this.reinitializeState();\n            this.doEncode(object, 1);\n            return this.bytes.slice(0, this.pos);\n        }\n        finally {\n            this.entered = false;\n        }\n    }\n    doEncode(object, depth) {\n        if (depth > this.maxDepth) {\n            throw new Error(`Too deep objects in depth ${depth}`);\n        }\n        if (object == null) {\n            this.encodeNil();\n        }\n        else if (typeof object === \"boolean\") {\n            this.encodeBoolean(object);\n        }\n        else if (typeof object === \"number\") {\n            if (!this.forceIntegerToFloat) {\n                this.encodeNumber(object);\n            }\n            else {\n                this.encodeNumberAsFloat(object);\n            }\n        }\n        else if (typeof object === \"string\") {\n            this.encodeString(object);\n        }\n        else if (this.useBigInt64 && typeof object === \"bigint\") {\n            this.encodeBigInt64(object);\n        }\n        else {\n            this.encodeObject(object, depth);\n        }\n    }\n    ensureBufferSizeToWrite(sizeToWrite) {\n        const requiredSize = this.pos + sizeToWrite;\n        if (this.view.byteLength < requiredSize) {\n            this.resizeBuffer(requiredSize * 2);\n        }\n    }\n    resizeBuffer(newSize) {\n        const newBuffer = new ArrayBuffer(newSize);\n        const newBytes = new Uint8Array(newBuffer);\n        const newView = new DataView(newBuffer);\n        newBytes.set(this.bytes);\n        this.view = newView;\n        this.bytes = newBytes;\n    }\n    encodeNil() {\n        this.writeU8(0xc0);\n    }\n    encodeBoolean(object) {\n        if (object === false) {\n            this.writeU8(0xc2);\n        }\n        else {\n            this.writeU8(0xc3);\n        }\n    }\n    encodeNumber(object) {\n        if (!this.forceIntegerToFloat && Number.isSafeInteger(object)) {\n            if (object >= 0) {\n                if (object < 0x80) {\n                    // positive fixint\n                    this.writeU8(object);\n                }\n                else if (object < 0x100) {\n                    // uint 8\n                    this.writeU8(0xcc);\n                    this.writeU8(object);\n                }\n                else if (object < 0x10000) {\n                    // uint 16\n                    this.writeU8(0xcd);\n                    this.writeU16(object);\n                }\n                else if (object < 0x100000000) {\n                    // uint 32\n                    this.writeU8(0xce);\n                    this.writeU32(object);\n                }\n                else if (!this.useBigInt64) {\n                    // uint 64\n                    this.writeU8(0xcf);\n                    this.writeU64(object);\n                }\n                else {\n                    this.encodeNumberAsFloat(object);\n                }\n            }\n            else {\n                if (object >= -0x20) {\n                    // negative fixint\n                    this.writeU8(0xe0 | (object + 0x20));\n                }\n                else if (object >= -0x80) {\n                    // int 8\n                    this.writeU8(0xd0);\n                    this.writeI8(object);\n                }\n                else if (object >= -0x8000) {\n                    // int 16\n                    this.writeU8(0xd1);\n                    this.writeI16(object);\n                }\n                else if (object >= -0x80000000) {\n                    // int 32\n                    this.writeU8(0xd2);\n                    this.writeI32(object);\n                }\n                else if (!this.useBigInt64) {\n                    // int 64\n                    this.writeU8(0xd3);\n                    this.writeI64(object);\n                }\n                else {\n                    this.encodeNumberAsFloat(object);\n                }\n            }\n        }\n        else {\n            this.encodeNumberAsFloat(object);\n        }\n    }\n    encodeNumberAsFloat(object) {\n        if (this.forceFloat32) {\n            // float 32\n            this.writeU8(0xca);\n            this.writeF32(object);\n        }\n        else {\n            // float 64\n            this.writeU8(0xcb);\n            this.writeF64(object);\n        }\n    }\n    encodeBigInt64(object) {\n        if (object >= BigInt(0)) {\n            // uint 64\n            this.writeU8(0xcf);\n            this.writeBigUint64(object);\n        }\n        else {\n            // int 64\n            this.writeU8(0xd3);\n            this.writeBigInt64(object);\n        }\n    }\n    writeStringHeader(byteLength) {\n        if (byteLength < 32) {\n            // fixstr\n            this.writeU8(0xa0 + byteLength);\n        }\n        else if (byteLength < 0x100) {\n            // str 8\n            this.writeU8(0xd9);\n            this.writeU8(byteLength);\n        }\n        else if (byteLength < 0x10000) {\n            // str 16\n            this.writeU8(0xda);\n            this.writeU16(byteLength);\n        }\n        else if (byteLength < 0x100000000) {\n            // str 32\n            this.writeU8(0xdb);\n            this.writeU32(byteLength);\n        }\n        else {\n            throw new Error(`Too long string: ${byteLength} bytes in UTF-8`);\n        }\n    }\n    encodeString(object) {\n        const maxHeaderSize = 1 + 4;\n        const byteLength = utf8Count(object);\n        this.ensureBufferSizeToWrite(maxHeaderSize + byteLength);\n        this.writeStringHeader(byteLength);\n        utf8Encode(object, this.bytes, this.pos);\n        this.pos += byteLength;\n    }\n    encodeObject(object, depth) {\n        // try to encode objects with custom codec first of non-primitives\n        const ext = this.extensionCodec.tryToEncode(object, this.context);\n        if (ext != null) {\n            this.encodeExtension(ext);\n        }\n        else if (Array.isArray(object)) {\n            this.encodeArray(object, depth);\n        }\n        else if (ArrayBuffer.isView(object)) {\n            this.encodeBinary(object);\n        }\n        else if (typeof object === \"object\") {\n            this.encodeMap(object, depth);\n        }\n        else {\n            // symbol, function and other special object come here unless extensionCodec handles them.\n            throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(object)}`);\n        }\n    }\n    encodeBinary(object) {\n        const size = object.byteLength;\n        if (size < 0x100) {\n            // bin 8\n            this.writeU8(0xc4);\n            this.writeU8(size);\n        }\n        else if (size < 0x10000) {\n            // bin 16\n            this.writeU8(0xc5);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // bin 32\n            this.writeU8(0xc6);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(`Too large binary: ${size}`);\n        }\n        const bytes = ensureUint8Array(object);\n        this.writeU8a(bytes);\n    }\n    encodeArray(object, depth) {\n        const size = object.length;\n        if (size < 16) {\n            // fixarray\n            this.writeU8(0x90 + size);\n        }\n        else if (size < 0x10000) {\n            // array 16\n            this.writeU8(0xdc);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // array 32\n            this.writeU8(0xdd);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(`Too large array: ${size}`);\n        }\n        for (const item of object) {\n            this.doEncode(item, depth + 1);\n        }\n    }\n    countWithoutUndefined(object, keys) {\n        let count = 0;\n        for (const key of keys) {\n            if (object[key] !== undefined) {\n                count++;\n            }\n        }\n        return count;\n    }\n    encodeMap(object, depth) {\n        const keys = Object.keys(object);\n        if (this.sortKeys) {\n            keys.sort();\n        }\n        const size = this.ignoreUndefined ? this.countWithoutUndefined(object, keys) : keys.length;\n        if (size < 16) {\n            // fixmap\n            this.writeU8(0x80 + size);\n        }\n        else if (size < 0x10000) {\n            // map 16\n            this.writeU8(0xde);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // map 32\n            this.writeU8(0xdf);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(`Too large map object: ${size}`);\n        }\n        for (const key of keys) {\n            const value = object[key];\n            if (!(this.ignoreUndefined && value === undefined)) {\n                this.encodeString(key);\n                this.doEncode(value, depth + 1);\n            }\n        }\n    }\n    encodeExtension(ext) {\n        if (typeof ext.data === \"function\") {\n            const data = ext.data(this.pos + 6);\n            const size = data.length;\n            if (size >= 0x100000000) {\n                throw new Error(`Too large extension object: ${size}`);\n            }\n            this.writeU8(0xc9);\n            this.writeU32(size);\n            this.writeI8(ext.type);\n            this.writeU8a(data);\n            return;\n        }\n        const size = ext.data.length;\n        if (size === 1) {\n            // fixext 1\n            this.writeU8(0xd4);\n        }\n        else if (size === 2) {\n            // fixext 2\n            this.writeU8(0xd5);\n        }\n        else if (size === 4) {\n            // fixext 4\n            this.writeU8(0xd6);\n        }\n        else if (size === 8) {\n            // fixext 8\n            this.writeU8(0xd7);\n        }\n        else if (size === 16) {\n            // fixext 16\n            this.writeU8(0xd8);\n        }\n        else if (size < 0x100) {\n            // ext 8\n            this.writeU8(0xc7);\n            this.writeU8(size);\n        }\n        else if (size < 0x10000) {\n            // ext 16\n            this.writeU8(0xc8);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // ext 32\n            this.writeU8(0xc9);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(`Too large extension object: ${size}`);\n        }\n        this.writeI8(ext.type);\n        this.writeU8a(ext.data);\n    }\n    writeU8(value) {\n        this.ensureBufferSizeToWrite(1);\n        this.view.setUint8(this.pos, value);\n        this.pos++;\n    }\n    writeU8a(values) {\n        const size = values.length;\n        this.ensureBufferSizeToWrite(size);\n        this.bytes.set(values, this.pos);\n        this.pos += size;\n    }\n    writeI8(value) {\n        this.ensureBufferSizeToWrite(1);\n        this.view.setInt8(this.pos, value);\n        this.pos++;\n    }\n    writeU16(value) {\n        this.ensureBufferSizeToWrite(2);\n        this.view.setUint16(this.pos, value);\n        this.pos += 2;\n    }\n    writeI16(value) {\n        this.ensureBufferSizeToWrite(2);\n        this.view.setInt16(this.pos, value);\n        this.pos += 2;\n    }\n    writeU32(value) {\n        this.ensureBufferSizeToWrite(4);\n        this.view.setUint32(this.pos, value);\n        this.pos += 4;\n    }\n    writeI32(value) {\n        this.ensureBufferSizeToWrite(4);\n        this.view.setInt32(this.pos, value);\n        this.pos += 4;\n    }\n    writeF32(value) {\n        this.ensureBufferSizeToWrite(4);\n        this.view.setFloat32(this.pos, value);\n        this.pos += 4;\n    }\n    writeF64(value) {\n        this.ensureBufferSizeToWrite(8);\n        this.view.setFloat64(this.pos, value);\n        this.pos += 8;\n    }\n    writeU64(value) {\n        this.ensureBufferSizeToWrite(8);\n        setUint64(this.view, this.pos, value);\n        this.pos += 8;\n    }\n    writeI64(value) {\n        this.ensureBufferSizeToWrite(8);\n        setInt64(this.view, this.pos, value);\n        this.pos += 8;\n    }\n    writeBigUint64(value) {\n        this.ensureBufferSizeToWrite(8);\n        this.view.setBigUint64(this.pos, value);\n        this.pos += 8;\n    }\n    writeBigInt64(value) {\n        this.ensureBufferSizeToWrite(8);\n        this.view.setBigInt64(this.pos, value);\n        this.pos += 8;\n    }\n}\n//# sourceMappingURL=Encoder.mjs.map",
    "import { Encoder } from \"./Encoder.mjs\";\n/**\n * It encodes `value` in the MessagePack format and\n * returns a byte buffer.\n *\n * The returned buffer is a slice of a larger `ArrayBuffer`, so you have to use its `#byteOffset` and `#byteLength` in order to convert it to another typed arrays including NodeJS `Buffer`.\n */\nexport function encode(value, options) {\n    const encoder = new Encoder(options);\n    return encoder.encodeSharedRef(value);\n}\n//# sourceMappingURL=encode.mjs.map",
    "export function prettyByte(byte) {\n    return `${byte < 0 ? \"-\" : \"\"}0x${Math.abs(byte).toString(16).padStart(2, \"0\")}`;\n}\n//# sourceMappingURL=prettyByte.mjs.map",
    "import { utf8DecodeJs } from \"./utils/utf8.mjs\";\nconst DEFAULT_MAX_KEY_LENGTH = 16;\nconst DEFAULT_MAX_LENGTH_PER_KEY = 16;\nexport class CachedKeyDecoder {\n    hit = 0;\n    miss = 0;\n    caches;\n    maxKeyLength;\n    maxLengthPerKey;\n    constructor(maxKeyLength = DEFAULT_MAX_KEY_LENGTH, maxLengthPerKey = DEFAULT_MAX_LENGTH_PER_KEY) {\n        this.maxKeyLength = maxKeyLength;\n        this.maxLengthPerKey = maxLengthPerKey;\n        // avoid `new Array(N)`, which makes a sparse array,\n        // because a sparse array is typically slower than a non-sparse array.\n        this.caches = [];\n        for (let i = 0; i < this.maxKeyLength; i++) {\n            this.caches.push([]);\n        }\n    }\n    canBeCached(byteLength) {\n        return byteLength > 0 && byteLength <= this.maxKeyLength;\n    }\n    find(bytes, inputOffset, byteLength) {\n        const records = this.caches[byteLength - 1];\n        FIND_CHUNK: for (const record of records) {\n            const recordBytes = record.bytes;\n            for (let j = 0; j < byteLength; j++) {\n                if (recordBytes[j] !== bytes[inputOffset + j]) {\n                    continue FIND_CHUNK;\n                }\n            }\n            return record.str;\n        }\n        return null;\n    }\n    store(bytes, value) {\n        const records = this.caches[bytes.length - 1];\n        const record = { bytes, str: value };\n        if (records.length >= this.maxLengthPerKey) {\n            // `records` are full!\n            // Set `record` to an arbitrary position.\n            records[(Math.random() * records.length) | 0] = record;\n        }\n        else {\n            records.push(record);\n        }\n    }\n    decode(bytes, inputOffset, byteLength) {\n        const cachedValue = this.find(bytes, inputOffset, byteLength);\n        if (cachedValue != null) {\n            this.hit++;\n            return cachedValue;\n        }\n        this.miss++;\n        const str = utf8DecodeJs(bytes, inputOffset, byteLength);\n        // Ensure to copy a slice of bytes because the bytes may be a NodeJS Buffer and Buffer#slice() returns a reference to its internal ArrayBuffer.\n        const slicedCopyOfBytes = Uint8Array.prototype.slice.call(bytes, inputOffset, inputOffset + byteLength);\n        this.store(slicedCopyOfBytes, str);\n        return str;\n    }\n}\n//# sourceMappingURL=CachedKeyDecoder.mjs.map",
    "import { prettyByte } from \"./utils/prettyByte.mjs\";\nimport { ExtensionCodec } from \"./ExtensionCodec.mjs\";\nimport { getInt64, getUint64, UINT32_MAX } from \"./utils/int.mjs\";\nimport { utf8Decode } from \"./utils/utf8.mjs\";\nimport { ensureUint8Array } from \"./utils/typedArrays.mjs\";\nimport { CachedKeyDecoder } from \"./CachedKeyDecoder.mjs\";\nimport { DecodeError } from \"./DecodeError.mjs\";\nconst STATE_ARRAY = \"array\";\nconst STATE_MAP_KEY = \"map_key\";\nconst STATE_MAP_VALUE = \"map_value\";\nconst mapKeyConverter = (key) => {\n    if (typeof key === \"string\" || typeof key === \"number\") {\n        return key;\n    }\n    throw new DecodeError(\"The type of key must be string or number but \" + typeof key);\n};\nclass StackPool {\n    stack = [];\n    stackHeadPosition = -1;\n    get length() {\n        return this.stackHeadPosition + 1;\n    }\n    top() {\n        return this.stack[this.stackHeadPosition];\n    }\n    pushArrayState(size) {\n        const state = this.getUninitializedStateFromPool();\n        state.type = STATE_ARRAY;\n        state.position = 0;\n        state.size = size;\n        state.array = new Array(size);\n    }\n    pushMapState(size) {\n        const state = this.getUninitializedStateFromPool();\n        state.type = STATE_MAP_KEY;\n        state.readCount = 0;\n        state.size = size;\n        state.map = {};\n    }\n    getUninitializedStateFromPool() {\n        this.stackHeadPosition++;\n        if (this.stackHeadPosition === this.stack.length) {\n            const partialState = {\n                type: undefined,\n                size: 0,\n                array: undefined,\n                position: 0,\n                readCount: 0,\n                map: undefined,\n                key: null,\n            };\n            this.stack.push(partialState);\n        }\n        return this.stack[this.stackHeadPosition];\n    }\n    release(state) {\n        const topStackState = this.stack[this.stackHeadPosition];\n        if (topStackState !== state) {\n            throw new Error(\"Invalid stack state. Released state is not on top of the stack.\");\n        }\n        if (state.type === STATE_ARRAY) {\n            const partialState = state;\n            partialState.size = 0;\n            partialState.array = undefined;\n            partialState.position = 0;\n            partialState.type = undefined;\n        }\n        if (state.type === STATE_MAP_KEY || state.type === STATE_MAP_VALUE) {\n            const partialState = state;\n            partialState.size = 0;\n            partialState.map = undefined;\n            partialState.readCount = 0;\n            partialState.type = undefined;\n        }\n        this.stackHeadPosition--;\n    }\n    reset() {\n        this.stack.length = 0;\n        this.stackHeadPosition = -1;\n    }\n}\nconst HEAD_BYTE_REQUIRED = -1;\nconst EMPTY_VIEW = new DataView(new ArrayBuffer(0));\nconst EMPTY_BYTES = new Uint8Array(EMPTY_VIEW.buffer);\ntry {\n    // IE11: The spec says it should throw RangeError,\n    // IE11: but in IE11 it throws TypeError.\n    EMPTY_VIEW.getInt8(0);\n}\ncatch (e) {\n    if (!(e instanceof RangeError)) {\n        throw new Error(\"This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access\");\n    }\n}\nconst MORE_DATA = new RangeError(\"Insufficient data\");\nconst sharedCachedKeyDecoder = new CachedKeyDecoder();\nexport class Decoder {\n    extensionCodec;\n    context;\n    useBigInt64;\n    rawStrings;\n    maxStrLength;\n    maxBinLength;\n    maxArrayLength;\n    maxMapLength;\n    maxExtLength;\n    keyDecoder;\n    mapKeyConverter;\n    totalPos = 0;\n    pos = 0;\n    view = EMPTY_VIEW;\n    bytes = EMPTY_BYTES;\n    headByte = HEAD_BYTE_REQUIRED;\n    stack = new StackPool();\n    entered = false;\n    constructor(options) {\n        this.extensionCodec = options?.extensionCodec ?? ExtensionCodec.defaultCodec;\n        this.context = options?.context; // needs a type assertion because EncoderOptions has no context property when ContextType is undefined\n        this.useBigInt64 = options?.useBigInt64 ?? false;\n        this.rawStrings = options?.rawStrings ?? false;\n        this.maxStrLength = options?.maxStrLength ?? UINT32_MAX;\n        this.maxBinLength = options?.maxBinLength ?? UINT32_MAX;\n        this.maxArrayLength = options?.maxArrayLength ?? UINT32_MAX;\n        this.maxMapLength = options?.maxMapLength ?? UINT32_MAX;\n        this.maxExtLength = options?.maxExtLength ?? UINT32_MAX;\n        this.keyDecoder = options?.keyDecoder !== undefined ? options.keyDecoder : sharedCachedKeyDecoder;\n        this.mapKeyConverter = options?.mapKeyConverter ?? mapKeyConverter;\n    }\n    clone() {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        return new Decoder({\n            extensionCodec: this.extensionCodec,\n            context: this.context,\n            useBigInt64: this.useBigInt64,\n            rawStrings: this.rawStrings,\n            maxStrLength: this.maxStrLength,\n            maxBinLength: this.maxBinLength,\n            maxArrayLength: this.maxArrayLength,\n            maxMapLength: this.maxMapLength,\n            maxExtLength: this.maxExtLength,\n            keyDecoder: this.keyDecoder,\n        });\n    }\n    reinitializeState() {\n        this.totalPos = 0;\n        this.headByte = HEAD_BYTE_REQUIRED;\n        this.stack.reset();\n        // view, bytes, and pos will be re-initialized in setBuffer()\n    }\n    setBuffer(buffer) {\n        const bytes = ensureUint8Array(buffer);\n        this.bytes = bytes;\n        this.view = new DataView(bytes.buffer, bytes.byteOffset, bytes.byteLength);\n        this.pos = 0;\n    }\n    appendBuffer(buffer) {\n        if (this.headByte === HEAD_BYTE_REQUIRED && !this.hasRemaining(1)) {\n            this.setBuffer(buffer);\n        }\n        else {\n            const remainingData = this.bytes.subarray(this.pos);\n            const newData = ensureUint8Array(buffer);\n            // concat remainingData + newData\n            const newBuffer = new Uint8Array(remainingData.length + newData.length);\n            newBuffer.set(remainingData);\n            newBuffer.set(newData, remainingData.length);\n            this.setBuffer(newBuffer);\n        }\n    }\n    hasRemaining(size) {\n        return this.view.byteLength - this.pos >= size;\n    }\n    createExtraByteError(posToShow) {\n        const { view, pos } = this;\n        return new RangeError(`Extra ${view.byteLength - pos} of ${view.byteLength} byte(s) found at buffer[${posToShow}]`);\n    }\n    /**\n     * @throws {@link DecodeError}\n     * @throws {@link RangeError}\n     */\n    decode(buffer) {\n        if (this.entered) {\n            const instance = this.clone();\n            return instance.decode(buffer);\n        }\n        try {\n            this.entered = true;\n            this.reinitializeState();\n            this.setBuffer(buffer);\n            const object = this.doDecodeSync();\n            if (this.hasRemaining(1)) {\n                throw this.createExtraByteError(this.pos);\n            }\n            return object;\n        }\n        finally {\n            this.entered = false;\n        }\n    }\n    *decodeMulti(buffer) {\n        if (this.entered) {\n            const instance = this.clone();\n            yield* instance.decodeMulti(buffer);\n            return;\n        }\n        try {\n            this.entered = true;\n            this.reinitializeState();\n            this.setBuffer(buffer);\n            while (this.hasRemaining(1)) {\n                yield this.doDecodeSync();\n            }\n        }\n        finally {\n            this.entered = false;\n        }\n    }\n    async decodeAsync(stream) {\n        if (this.entered) {\n            const instance = this.clone();\n            return instance.decodeAsync(stream);\n        }\n        try {\n            this.entered = true;\n            let decoded = false;\n            let object;\n            for await (const buffer of stream) {\n                if (decoded) {\n                    this.entered = false;\n                    throw this.createExtraByteError(this.totalPos);\n                }\n                this.appendBuffer(buffer);\n                try {\n                    object = this.doDecodeSync();\n                    decoded = true;\n                }\n                catch (e) {\n                    if (!(e instanceof RangeError)) {\n                        throw e; // rethrow\n                    }\n                    // fallthrough\n                }\n                this.totalPos += this.pos;\n            }\n            if (decoded) {\n                if (this.hasRemaining(1)) {\n                    throw this.createExtraByteError(this.totalPos);\n                }\n                return object;\n            }\n            const { headByte, pos, totalPos } = this;\n            throw new RangeError(`Insufficient data in parsing ${prettyByte(headByte)} at ${totalPos} (${pos} in the current buffer)`);\n        }\n        finally {\n            this.entered = false;\n        }\n    }\n    decodeArrayStream(stream) {\n        return this.decodeMultiAsync(stream, true);\n    }\n    decodeStream(stream) {\n        return this.decodeMultiAsync(stream, false);\n    }\n    async *decodeMultiAsync(stream, isArray) {\n        if (this.entered) {\n            const instance = this.clone();\n            yield* instance.decodeMultiAsync(stream, isArray);\n            return;\n        }\n        try {\n            this.entered = true;\n            let isArrayHeaderRequired = isArray;\n            let arrayItemsLeft = -1;\n            for await (const buffer of stream) {\n                if (isArray && arrayItemsLeft === 0) {\n                    throw this.createExtraByteError(this.totalPos);\n                }\n                this.appendBuffer(buffer);\n                if (isArrayHeaderRequired) {\n                    arrayItemsLeft = this.readArraySize();\n                    isArrayHeaderRequired = false;\n                    this.complete();\n                }\n                try {\n                    while (true) {\n                        yield this.doDecodeSync();\n                        if (--arrayItemsLeft === 0) {\n                            break;\n                        }\n                    }\n                }\n                catch (e) {\n                    if (!(e instanceof RangeError)) {\n                        throw e; // rethrow\n                    }\n                    // fallthrough\n                }\n                this.totalPos += this.pos;\n            }\n        }\n        finally {\n            this.entered = false;\n        }\n    }\n    doDecodeSync() {\n        DECODE: while (true) {\n            const headByte = this.readHeadByte();\n            let object;\n            if (headByte >= 0xe0) {\n                // negative fixint (111x xxxx) 0xe0 - 0xff\n                object = headByte - 0x100;\n            }\n            else if (headByte < 0xc0) {\n                if (headByte < 0x80) {\n                    // positive fixint (0xxx xxxx) 0x00 - 0x7f\n                    object = headByte;\n                }\n                else if (headByte < 0x90) {\n                    // fixmap (1000 xxxx) 0x80 - 0x8f\n                    const size = headByte - 0x80;\n                    if (size !== 0) {\n                        this.pushMapState(size);\n                        this.complete();\n                        continue DECODE;\n                    }\n                    else {\n                        object = {};\n                    }\n                }\n                else if (headByte < 0xa0) {\n                    // fixarray (1001 xxxx) 0x90 - 0x9f\n                    const size = headByte - 0x90;\n                    if (size !== 0) {\n                        this.pushArrayState(size);\n                        this.complete();\n                        continue DECODE;\n                    }\n                    else {\n                        object = [];\n                    }\n                }\n                else {\n                    // fixstr (101x xxxx) 0xa0 - 0xbf\n                    const byteLength = headByte - 0xa0;\n                    object = this.decodeString(byteLength, 0);\n                }\n            }\n            else if (headByte === 0xc0) {\n                // nil\n                object = null;\n            }\n            else if (headByte === 0xc2) {\n                // false\n                object = false;\n            }\n            else if (headByte === 0xc3) {\n                // true\n                object = true;\n            }\n            else if (headByte === 0xca) {\n                // float 32\n                object = this.readF32();\n            }\n            else if (headByte === 0xcb) {\n                // float 64\n                object = this.readF64();\n            }\n            else if (headByte === 0xcc) {\n                // uint 8\n                object = this.readU8();\n            }\n            else if (headByte === 0xcd) {\n                // uint 16\n                object = this.readU16();\n            }\n            else if (headByte === 0xce) {\n                // uint 32\n                object = this.readU32();\n            }\n            else if (headByte === 0xcf) {\n                // uint 64\n                if (this.useBigInt64) {\n                    object = this.readU64AsBigInt();\n                }\n                else {\n                    object = this.readU64();\n                }\n            }\n            else if (headByte === 0xd0) {\n                // int 8\n                object = this.readI8();\n            }\n            else if (headByte === 0xd1) {\n                // int 16\n                object = this.readI16();\n            }\n            else if (headByte === 0xd2) {\n                // int 32\n                object = this.readI32();\n            }\n            else if (headByte === 0xd3) {\n                // int 64\n                if (this.useBigInt64) {\n                    object = this.readI64AsBigInt();\n                }\n                else {\n                    object = this.readI64();\n                }\n            }\n            else if (headByte === 0xd9) {\n                // str 8\n                const byteLength = this.lookU8();\n                object = this.decodeString(byteLength, 1);\n            }\n            else if (headByte === 0xda) {\n                // str 16\n                const byteLength = this.lookU16();\n                object = this.decodeString(byteLength, 2);\n            }\n            else if (headByte === 0xdb) {\n                // str 32\n                const byteLength = this.lookU32();\n                object = this.decodeString(byteLength, 4);\n            }\n            else if (headByte === 0xdc) {\n                // array 16\n                const size = this.readU16();\n                if (size !== 0) {\n                    this.pushArrayState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = [];\n                }\n            }\n            else if (headByte === 0xdd) {\n                // array 32\n                const size = this.readU32();\n                if (size !== 0) {\n                    this.pushArrayState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = [];\n                }\n            }\n            else if (headByte === 0xde) {\n                // map 16\n                const size = this.readU16();\n                if (size !== 0) {\n                    this.pushMapState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = {};\n                }\n            }\n            else if (headByte === 0xdf) {\n                // map 32\n                const size = this.readU32();\n                if (size !== 0) {\n                    this.pushMapState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = {};\n                }\n            }\n            else if (headByte === 0xc4) {\n                // bin 8\n                const size = this.lookU8();\n                object = this.decodeBinary(size, 1);\n            }\n            else if (headByte === 0xc5) {\n                // bin 16\n                const size = this.lookU16();\n                object = this.decodeBinary(size, 2);\n            }\n            else if (headByte === 0xc6) {\n                // bin 32\n                const size = this.lookU32();\n                object = this.decodeBinary(size, 4);\n            }\n            else if (headByte === 0xd4) {\n                // fixext 1\n                object = this.decodeExtension(1, 0);\n            }\n            else if (headByte === 0xd5) {\n                // fixext 2\n                object = this.decodeExtension(2, 0);\n            }\n            else if (headByte === 0xd6) {\n                // fixext 4\n                object = this.decodeExtension(4, 0);\n            }\n            else if (headByte === 0xd7) {\n                // fixext 8\n                object = this.decodeExtension(8, 0);\n            }\n            else if (headByte === 0xd8) {\n                // fixext 16\n                object = this.decodeExtension(16, 0);\n            }\n            else if (headByte === 0xc7) {\n                // ext 8\n                const size = this.lookU8();\n                object = this.decodeExtension(size, 1);\n            }\n            else if (headByte === 0xc8) {\n                // ext 16\n                const size = this.lookU16();\n                object = this.decodeExtension(size, 2);\n            }\n            else if (headByte === 0xc9) {\n                // ext 32\n                const size = this.lookU32();\n                object = this.decodeExtension(size, 4);\n            }\n            else {\n                throw new DecodeError(`Unrecognized type byte: ${prettyByte(headByte)}`);\n            }\n            this.complete();\n            const stack = this.stack;\n            while (stack.length > 0) {\n                // arrays and maps\n                const state = stack.top();\n                if (state.type === STATE_ARRAY) {\n                    state.array[state.position] = object;\n                    state.position++;\n                    if (state.position === state.size) {\n                        object = state.array;\n                        stack.release(state);\n                    }\n                    else {\n                        continue DECODE;\n                    }\n                }\n                else if (state.type === STATE_MAP_KEY) {\n                    if (object === \"__proto__\") {\n                        throw new DecodeError(\"The key __proto__ is not allowed\");\n                    }\n                    state.key = this.mapKeyConverter(object);\n                    state.type = STATE_MAP_VALUE;\n                    continue DECODE;\n                }\n                else {\n                    // it must be `state.type === State.MAP_VALUE` here\n                    state.map[state.key] = object;\n                    state.readCount++;\n                    if (state.readCount === state.size) {\n                        object = state.map;\n                        stack.release(state);\n                    }\n                    else {\n                        state.key = null;\n                        state.type = STATE_MAP_KEY;\n                        continue DECODE;\n                    }\n                }\n            }\n            return object;\n        }\n    }\n    readHeadByte() {\n        if (this.headByte === HEAD_BYTE_REQUIRED) {\n            this.headByte = this.readU8();\n            // console.log(\"headByte\", prettyByte(this.headByte));\n        }\n        return this.headByte;\n    }\n    complete() {\n        this.headByte = HEAD_BYTE_REQUIRED;\n    }\n    readArraySize() {\n        const headByte = this.readHeadByte();\n        switch (headByte) {\n            case 0xdc:\n                return this.readU16();\n            case 0xdd:\n                return this.readU32();\n            default: {\n                if (headByte < 0xa0) {\n                    return headByte - 0x90;\n                }\n                else {\n                    throw new DecodeError(`Unrecognized array type byte: ${prettyByte(headByte)}`);\n                }\n            }\n        }\n    }\n    pushMapState(size) {\n        if (size > this.maxMapLength) {\n            throw new DecodeError(`Max length exceeded: map length (${size}) > maxMapLengthLength (${this.maxMapLength})`);\n        }\n        this.stack.pushMapState(size);\n    }\n    pushArrayState(size) {\n        if (size > this.maxArrayLength) {\n            throw new DecodeError(`Max length exceeded: array length (${size}) > maxArrayLength (${this.maxArrayLength})`);\n        }\n        this.stack.pushArrayState(size);\n    }\n    decodeString(byteLength, headerOffset) {\n        if (!this.rawStrings || this.stateIsMapKey()) {\n            return this.decodeUtf8String(byteLength, headerOffset);\n        }\n        return this.decodeBinary(byteLength, headerOffset);\n    }\n    /**\n     * @throws {@link RangeError}\n     */\n    decodeUtf8String(byteLength, headerOffset) {\n        if (byteLength > this.maxStrLength) {\n            throw new DecodeError(`Max length exceeded: UTF-8 byte length (${byteLength}) > maxStrLength (${this.maxStrLength})`);\n        }\n        if (this.bytes.byteLength < this.pos + headerOffset + byteLength) {\n            throw MORE_DATA;\n        }\n        const offset = this.pos + headerOffset;\n        let object;\n        if (this.stateIsMapKey() && this.keyDecoder?.canBeCached(byteLength)) {\n            object = this.keyDecoder.decode(this.bytes, offset, byteLength);\n        }\n        else {\n            object = utf8Decode(this.bytes, offset, byteLength);\n        }\n        this.pos += headerOffset + byteLength;\n        return object;\n    }\n    stateIsMapKey() {\n        if (this.stack.length > 0) {\n            const state = this.stack.top();\n            return state.type === STATE_MAP_KEY;\n        }\n        return false;\n    }\n    /**\n     * @throws {@link RangeError}\n     */\n    decodeBinary(byteLength, headOffset) {\n        if (byteLength > this.maxBinLength) {\n            throw new DecodeError(`Max length exceeded: bin length (${byteLength}) > maxBinLength (${this.maxBinLength})`);\n        }\n        if (!this.hasRemaining(byteLength + headOffset)) {\n            throw MORE_DATA;\n        }\n        const offset = this.pos + headOffset;\n        const object = this.bytes.subarray(offset, offset + byteLength);\n        this.pos += headOffset + byteLength;\n        return object;\n    }\n    decodeExtension(size, headOffset) {\n        if (size > this.maxExtLength) {\n            throw new DecodeError(`Max length exceeded: ext length (${size}) > maxExtLength (${this.maxExtLength})`);\n        }\n        const extType = this.view.getInt8(this.pos + headOffset);\n        const data = this.decodeBinary(size, headOffset + 1 /* extType */);\n        return this.extensionCodec.decode(data, extType, this.context);\n    }\n    lookU8() {\n        return this.view.getUint8(this.pos);\n    }\n    lookU16() {\n        return this.view.getUint16(this.pos);\n    }\n    lookU32() {\n        return this.view.getUint32(this.pos);\n    }\n    readU8() {\n        const value = this.view.getUint8(this.pos);\n        this.pos++;\n        return value;\n    }\n    readI8() {\n        const value = this.view.getInt8(this.pos);\n        this.pos++;\n        return value;\n    }\n    readU16() {\n        const value = this.view.getUint16(this.pos);\n        this.pos += 2;\n        return value;\n    }\n    readI16() {\n        const value = this.view.getInt16(this.pos);\n        this.pos += 2;\n        return value;\n    }\n    readU32() {\n        const value = this.view.getUint32(this.pos);\n        this.pos += 4;\n        return value;\n    }\n    readI32() {\n        const value = this.view.getInt32(this.pos);\n        this.pos += 4;\n        return value;\n    }\n    readU64() {\n        const value = getUint64(this.view, this.pos);\n        this.pos += 8;\n        return value;\n    }\n    readI64() {\n        const value = getInt64(this.view, this.pos);\n        this.pos += 8;\n        return value;\n    }\n    readU64AsBigInt() {\n        const value = this.view.getBigUint64(this.pos);\n        this.pos += 8;\n        return value;\n    }\n    readI64AsBigInt() {\n        const value = this.view.getBigInt64(this.pos);\n        this.pos += 8;\n        return value;\n    }\n    readF32() {\n        const value = this.view.getFloat32(this.pos);\n        this.pos += 4;\n        return value;\n    }\n    readF64() {\n        const value = this.view.getFloat64(this.pos);\n        this.pos += 8;\n        return value;\n    }\n}\n//# sourceMappingURL=Decoder.mjs.map",
    "import { Decoder } from \"./Decoder.mjs\";\n/**\n * It decodes a single MessagePack object in a buffer.\n *\n * This is a synchronous decoding function.\n * See other variants for asynchronous decoding: {@link decodeAsync}, {@link decodeMultiStream}, or {@link decodeArrayStream}.\n *\n * @throws {@link RangeError} if the buffer is incomplete, including the case where the buffer is empty.\n * @throws {@link DecodeError} if the buffer contains invalid data.\n */\nexport function decode(buffer, options) {\n    const decoder = new Decoder(options);\n    return decoder.decode(buffer);\n}\n/**\n * It decodes multiple MessagePack objects in a buffer.\n * This is corresponding to {@link decodeMultiStream}.\n *\n * @throws {@link RangeError} if the buffer is incomplete, including the case where the buffer is empty.\n * @throws {@link DecodeError} if the buffer contains invalid data.\n */\nexport function decodeMulti(buffer, options) {\n    const decoder = new Decoder(options);\n    return decoder.decodeMulti(buffer);\n}\n//# sourceMappingURL=decode.mjs.map",
    "import { Context, getLeafObject } from \"..\";\nimport { ObserverManager } from \"./ObserverManager\";\n\nexport class Observer {\n  readonly #partsArrays: (string | number)[][];\n  #previousValues: any[] = [];\n  readonly #changeCallbacks: Set<(values: any | any[], previous: any | any[]) => void> = new Set();\n  readonly #addedElementsCallback: Set<(keys: any | (any[] | undefined)[]) => void> = new Set();\n  readonly #deletedElementsCallback: Set<(keys: any | (any[] | undefined)[]) => void> = new Set();\n  initialized = false;\n\n  constructor(\n    readonly paths: string[],\n    readonly observerManagger: ObserverManager,\n    readonly multiValues: boolean = false) {\n    this.#partsArrays = paths.map(p => p === undefined ? [] : p.split(\"/\"));\n    this.#previousValues = paths.map(() => undefined);\n  }\n\n  onChange(callback: (values: any | any[], previous: any | any[]) => void): Observer {\n    this.#changeCallbacks.add(callback);\n    return this;\n  }\n\n  onElementsAdded(callback: (keys: any | (any[] | undefined)[]) => void): Observer {\n    this.#addedElementsCallback.add(callback);\n    return this;\n  }\n\n  onElementsDeleted(callback: (keys: any | (any[] | undefined)[]) => void): Observer {\n    this.#deletedElementsCallback.add(callback);\n    return this;\n  }\n\n  #valuesChanged(context: Context, updates: Record<string, any>) {\n    const newValues =\n      this.paths.map((path, index) =>\n        (updates && path in updates) ? updates[path] :\n          getLeafObject(context.root, this.#partsArrays[index], 0, false, context.properties)\n      );\n\n    if (this.#previousValues.every((prev, index) => {\n      const newValue = newValues[index];\n      if (prev === newValue) {\n        return true;\n      }\n      if (Array.isArray(prev) && Array.isArray(newValue)\n        && prev.length === newValue.length\n        && prev.every((elem, idx) => elem === newValue[idx])) {\n        return true;\n      }\n      return false;\n    })) {\n      return null;\n    }\n\n    return newValues;\n  }\n\n  triggerIfChanged(context: Context, updates: Record<string, any>) {\n    const newValues = !this.paths.length ? [] : this.#valuesChanged(context, this.initialized ? updates : {});\n    if (!newValues) {\n      return;\n    }\n\n    const previousValues = this.#previousValues;\n    this.#previousValues = newValues;\n\n    this.#changeCallbacks.forEach(callback => callback(this.multiValues ? newValues : newValues[0], this.multiValues ? previousValues : previousValues[0]));\n    if (this.#addedElementsCallback && newValues.some((val) => Array.isArray(val))) {\n      let hasNewElements = false;\n      const newElementsArray = newValues.map((val, index) => {\n        if (Array.isArray(val)) {\n          const previousSet = new Set(Array.isArray(previousValues[index]) ? previousValues[index] : []);\n          const newElements = val.filter((clientId) => !previousSet.has(clientId));\n          if (newElements.length) {\n            hasNewElements = true;\n          }\n          return newElements;\n        }\n      });\n      if (hasNewElements) {\n        this.#addedElementsCallback.forEach(callback => callback(this.multiValues ? newElementsArray : newElementsArray[0]));\n      }\n    }\n\n    if (this.#deletedElementsCallback && previousValues.some((val) => Array.isArray(val))) {\n      let hasDeletedElements = false;\n      const deletedElementsArray = previousValues.map((prev, index) => {\n        if (Array.isArray(prev)) {\n          const currentSet = new Set(Array.isArray(newValues[index]) ? newValues[index] : []);\n          const deletedElements = prev.filter(clientId => !currentSet.has(clientId));\n          if (deletedElements.length) {\n            hasDeletedElements = true;\n          }\n          return deletedElements;\n        }\n      });\n      if (hasDeletedElements) {\n        this.#deletedElementsCallback.forEach(callback => callback(this.multiValues ? deletedElementsArray : deletedElementsArray[0]));\n      }\n    }\n    this.initialized = true;\n  }\n\n  close(): void {\n    this.observerManagger.removeObserver(this);\n  }\n}\n",
    "import { Context } from \"../context/Context\";\nimport { Observer } from \"./Observer\";\n\nexport class ObserverManager {\n  readonly #observers = new Set<Observer>();\n\n  observe(paths: string[], multi: boolean): Observer {\n    const observer = new Observer(paths, this, multi);\n    this.#observers.add(observer);\n    return observer;\n  }\n\n  triggerObservers(context: Context, updates: Record<string, any>) {\n    this.#observers.forEach(o => o.triggerIfChanged(context, updates));\n  }\n\n  removeObserver(observer: Observer) {\n    this.#observers.delete(observer);\n  }\n\n  close() {\n    this.#observers.forEach(o => o.close());\n  }\n}\n",
    "/// <reference lib=\"dom\" />\n/// <reference lib=\"dom.iterable\" />\n\nimport { decode, encode } from \"@msgpack/msgpack\";\nimport { Context } from \"../context/Context\";\nimport { commitUpdates, getLeafObject, translateValue } from \"../cycles/data-update/data-update\";\nimport { Observer } from \"../observer/Observer\";\nimport { ObserverManager } from \"../observer/ObserverManager\";\nimport { Update } from \"../types/Update\";\nimport { Payload } from \"@/types/Payload\";\nimport { OutgoingCom } from \"@/clients/CommInterface\";\nimport { Connection } from \"@/connections/Connection\";\n\nexport class Processor {\n  readonly #observerManager = new ObserverManager();\n  readonly #outingCom = new Set<OutgoingCom>();\n\n  connectComm(comm: OutgoingCom) {\n    this.#outingCom.add(comm);\n    return () => {\n      this.#outingCom.delete(comm);\n    };\n  }\n\n  observe(paths?: (string[] | string)): Observer {\n    const multi = Array.isArray(paths);\n    const pathArray = paths === undefined ? [] : multi ? paths : [paths];\n    return this.#observerManager.observe(pathArray, multi);\n  }\n\n  removeObserver(observer: Observer): void {\n    this.#observerManager.removeObserver(observer);\n  }\n\n  performCycle(context: Context) {\n    this.#sendUpdate(context);\n    const updates = commitUpdates(context.root, context.incomingUpdates, context.properties);\n    this.#observerManager.triggerObservers(context, updates);\n  }\n\n  startCycle(context: Context): Connection {\n    let animationFrame = 0;\n    const loop = (t: number) => {\n      animationFrame = requestAnimationFrame(loop);\n      this.performCycle(context);\n      context.refresh?.();\n    };\n    animationFrame = requestAnimationFrame(loop);\n    return {\n      disconnect() {\n        cancelAnimationFrame(animationFrame);\n      },\n    };\n  }\n\n  #sendUpdate(context: Context) {\n    if (context.outgoingUpdates.length) {\n      //  Apply function to value\n      context.outgoingUpdates.forEach(update => {\n        update.path = this.#fixPath(update.path, context);\n        const previous = getLeafObject(context.root, update.path.split(\"/\"), 0, false);\n        update.value = typeof update.value === \"function\" ? update.value(previous) : update.value;\n      });\n\n      //  Apply incoming updates\n      const confirmedUpdates = context.outgoingUpdates.filter(({ confirmed }) => confirmed);\n      this.#addIncomingUpdates(confirmedUpdates, context);\n\n      //  send outgoing updates\n      const peerSet = new Set<string | undefined>();\n      context.outgoingUpdates.forEach(update => peerSet.add(update.peer));\n\n      peerSet.forEach((peer) => {\n        this.#outingCom.forEach(comm => {\n          comm.send(encode({\n            updates: context.outgoingUpdates\n              .filter(update => !update.peer || update.peer === peer)\n          }), peer);\n        });\n      });\n      context.outgoingUpdates.length = 0;\n    }\n  }\n\n  receivedData(data: ArrayBuffer | SharedArrayBuffer, context: Context) {\n    const payload = decode(data) as Payload;\n\n    if (payload?.myClientId) {\n      context.clientId = payload.myClientId;\n    }\n    if (payload?.updates) {\n      this.#addIncomingUpdates(payload.updates, context);\n    }\n  }\n\n  #addIncomingUpdates(updates: Update[], context: Context) {\n    context.incomingUpdates.push(...updates);\n  }\n\n  #fixPath(path: string, context: Context) {\n    const split = path.split(\"/\");\n    return split.map(part => translateValue(part, {\n      self: context.clientId,\n      ...context.properties,\n    })).join(\"/\");\n  }\n}\n",
    "import { Update } from \"../../types/Update\";\nimport { getLeafObject, markUpdateConfirmed } from \"./data-update\";\nimport { Data } from \"../../types/Data\";\nimport { UpdateOptions } from \"./UpdateOptions\";\nimport { SetDataOptions } from \"./SetDataOptions\";\n\nexport function getData(root: Data, path: string = \"\", properties: { [key: string]: any }) {\n  const parts = path.split(\"/\");\n  return getLeafObject(root, parts, 0, false, properties) as any;\n}\n\nexport function pushData(root: Data, now: number, outgoingUpdates: Update[], path: string, value: any, options: UpdateOptions = {}) {\n  return processDataUpdate(root, now, outgoingUpdates, {\n    path,\n    value,\n    append: true,\n  }, options);\n}\n\nexport function setData(root: Data, now: number, outgoingUpdates: Update[], path: string, value: any, options: SetDataOptions = {}) {\n  return processDataUpdate(root, now, outgoingUpdates, {\n    path,\n    value,\n    append: options.append,\n    insert: options.insert,\n  }, options);\n}\n\nfunction processDataUpdate(root: Data, now: number, outgoingUpdates: Update[], update: Update, options: UpdateOptions = {}) {\n  update.peer = options.peer;\n  if (options.active ?? root.config?.activeUpdates) {\n    markUpdateConfirmed(update, now);\n  }\n  outgoingUpdates.push(update);\n  return update;\n}\n",
    "import { CommInterface } from \"@/clients/CommInterface\";\nimport { Context } from \"@/context/Context\";\nimport { Processor } from \"../core/Processor\";\nimport { setData } from \"@/cycles/data-update/data-manager\";\nimport { Connection } from \"@/connections/Connection\";\n\nexport function hookCommInterface(context: Context, comm: CommInterface, processor: Processor): Connection {\n  const removeOnMessage = comm.onMessage(buffer => {\n    processor.receivedData(buffer, context);\n  });\n  const removeOnNewClient = comm.onNewClient(peer => {\n    Object.entries(context.root).forEach(([key, value]) => {\n      setData(context.root, Date.now(), context.outgoingUpdates, key, value, {\n        active: true,\n        peer,\n      });\n    });\n  });\n  const commConnection = processor.connectComm(comm);\n  return {\n    disconnect: () => {\n      removeOnMessage();\n      removeOnNewClient();\n      commConnection();\n    },\n  }\n}\n",
    "import { Context } from \"@/context/Context\";\nimport { Update } from \"@/types/Update\";\nimport { Processor } from \"./Processor\";\nimport { CommInterface } from \"@/clients/CommInterface\";\nimport { hookCommInterface } from \"@/clients/CommInterfaceHook\";\nimport { Connection } from \"@/connections/Connection\";\nimport { getData, pushData, setData } from \"@/cycles/data-update/data-manager\";\nimport { UpdateOptions } from \"@/cycles/data-update/UpdateOptions\";\nimport { Attachment } from \"@/attachments/Attachment\";\nimport { Data } from \"@/types/Data\";\n\ninterface Props<T extends Data> {\n  clientId?: string;\n  root?: T;\n  properties?: Record<string, any>;\n}\n\nconst ACTIVE: UpdateOptions = {\n  active: true,\n};\n\nexport class Program<T extends Data = Data> implements Context<T> {\n  clientId?: string;\n  readonly incomingUpdates: Update[] = [];\n  readonly outgoingUpdates: Update[] = [];\n  readonly root: T;\n  readonly properties: Record<string, any>;\n  readonly processor: Processor = new Processor();\n  readonly aux: Record<string, Attachment> = {};\n  readonly refresher: Set<Attachment> = new Set();\n\n  constructor({ clientId, root, properties }: Props<T> = {}) {\n    this.clientId = clientId;\n    this.root = root ?? {} as T;\n    this.properties = properties ?? {};\n  }\n\n  connectComm(comm: CommInterface): Connection {\n    return hookCommInterface(this, comm, this.processor);\n  }\n\n  start() {\n    return this.processor.startCycle(this);\n  }\n\n  observe(path: string | string[]) {\n    return this.processor.observe(path);\n  }\n\n  get now() {\n    return Date.now();\n  }\n\n  setData(path: string, value: any | ((value: any) => any)) {\n    if (typeof (value) === \"function\") {\n      const oldValue = getData(this, path, this.properties);\n      value = value(oldValue);\n      if (oldValue === value) {\n        return;\n      }\n    }\n    setData(this.root, this.now, this.outgoingUpdates, path, value, ACTIVE);\n  }\n\n  pushData(path: string, value: any | ((value: any) => any)) {\n    if (typeof (value) === \"function\") {\n      const oldValue = getData(this, path, this.properties);\n      value = value(oldValue);\n    }\n    pushData(this.root, this.now, this.outgoingUpdates, path, value, ACTIVE);\n  }\n\n  getName(attachment: Attachment) {\n    return attachment.constructor.name;\n  }\n\n  attach(attachment: Attachment): Connection {\n    attachment.onAttach?.(this);\n    if (attachment.refresh) {\n      this.refresher.add(attachment);\n    }\n    this.aux[this.getName(attachment)] = attachment;\n    return {\n      disconnect: () => {\n        attachment.onDetach?.(this);\n        delete this.aux[this.getName(attachment)];\n        this.refresher.delete(attachment);\n      },\n    };\n  }\n\n  refresh(): void {\n    this.refresher.forEach(r => r.refresh?.(this));\n  }\n}\n",
    "import { Connection } from \"@/connections/Connection\";\nimport { Program } from \"./Program\";\n\nexport class Sample {\n  program = new Program();\n  main(): Connection {\n    const cycle = this.program.start();\n\n    return {\n      disconnect() {\n        cycle.disconnect();\n      }\n    }\n  }\n}\n",
    "export function joinWebRTCRoom({ userId, onMessage, logLine, enterRoom, }) {\n    const rtcConfig = {\n        iceServers: [{ urls: \"stun:stun.l.google.com:19302\" }],\n    };\n    const peers = new Map();\n    function wireDataChannel(state) {\n        const dc = state.dataChannel;\n        if (!dc)\n            return;\n        dc.onopen = () => logLine(\"💬\", { event: \"dc-open\", userId: state.userId });\n        dc.onmessage = (e) => {\n            onMessage?.(e.data, { userId: state.userId, peerId: state.userId });\n            logLine(\"💬\", { event: \"dc-message\", userId: state.userId, data: e.data });\n        };\n        dc.onclose = () => logLine(\"💬\", { event: \"dc-close\", userId: state.userId });\n        dc.onerror = () => logLine(\"⚠️ ERROR\", { error: \"dc-error\", userId: state.userId });\n    }\n    async function flushRemoteIce(state) {\n        if (!state.pc.remoteDescription)\n            return;\n        const queued = state.pendingRemoteIce;\n        state.pendingRemoteIce = [];\n        for (const ice of queued) {\n            try {\n                await state.pc.addIceCandidate(ice);\n            }\n            catch (e) {\n                logLine(\"⚠️ ERROR\", { error: \"add-ice-failed\", userId: state.userId, detail: String(e) });\n            }\n        }\n    }\n    function getPeer(user) {\n        let state = peers.get(user.info.userId);\n        if (!state) {\n            const newState = {\n                userId: user.info.userId,\n                pc: new RTCPeerConnection(rtcConfig),\n                pendingRemoteIce: [],\n                users: new Set([user]),\n                dataChannel: null,\n            };\n            peers.set(user.info.userId, newState);\n            // Send local ICE candidates to this peer\n            newState.pc.onicecandidate = (ev) => {\n                if (!ev.candidate)\n                    return;\n                for (let user of newState.users) {\n                    const success = user.receive(\"ice\", ev.candidate.toJSON());\n                    if (success)\n                        break;\n                    newState.users.delete(user);\n                }\n            };\n            // Responder receives DataChannel here\n            newState.pc.ondatachannel = (ev) => {\n                newState.dataChannel = ev.channel;\n                wireDataChannel(newState);\n            };\n            newState.pc.onconnectionstatechange = () => {\n                logLine(\"💬\", { event: \"pc-state\", userId: newState.userId, state: newState.pc.connectionState });\n            };\n            state = newState;\n        }\n        else {\n            state.users.add(user);\n        }\n        peers.set(state.userId, state);\n        return state;\n    }\n    function leaveUser(userId) {\n        const p = peers.get(userId);\n        if (!p)\n            return;\n        try {\n            p.dataChannel?.close();\n        }\n        catch { }\n        try {\n            p.pc.close();\n        }\n        catch { }\n        peers.delete(userId);\n        logLine(\"👤 USER LEFT\", userId);\n    }\n    const roomsEntered = new Map();\n    function enter({ room, host }) {\n        const { exitRoom } = enterRoom({\n            userId,\n            room,\n            host,\n            logLine,\n            // Existing peers initiate to the newcomer (Option 1)\n            onPeerJoined: async (user) => {\n                const state = getPeer(user);\n                const pc = state.pc;\n                // Initiator creates the DataChannel\n                if (!state.dataChannel) {\n                    state.dataChannel = pc.createDataChannel(\"data\");\n                    wireDataChannel(state);\n                }\n                // Offer flow: createOffer -> setLocalDescription -> send localDescription\n                const offer = await pc.createOffer();\n                await pc.setLocalDescription(offer);\n                user.receive(\"offer\", pc.localDescription);\n            },\n            onPeerLeft: (info) => {\n                const state = peers.get(info.userId);\n                if (!state)\n                    return;\n                for (const user of state.users) {\n                    if (user.info.userId === info.userId) {\n                        state.users.delete(user);\n                        break;\n                    }\n                }\n                logLine(\"👤 LEFT\", info);\n                if (state.users.size === 0) {\n                    try {\n                        state.dataChannel?.close();\n                    }\n                    catch { }\n                    try {\n                        state.pc.close();\n                    }\n                    catch { }\n                    leaveUser(info.userId);\n                }\n            },\n            onMessage: async (type, payload, from) => {\n                const state = getPeer(from);\n                const pc = state.pc;\n                if (type === \"offer\") {\n                    // Responder: set remote offer\n                    await pc.setRemoteDescription(payload);\n                    // Create and send answer\n                    const answer = await pc.createAnswer();\n                    await pc.setLocalDescription(answer);\n                    from.receive(\"answer\", pc.localDescription);\n                    // Now safe to apply any queued ICE from this peer\n                    await flushRemoteIce(state);\n                    return;\n                }\n                if (type === \"answer\") {\n                    // Initiator: set remote answer\n                    await pc.setRemoteDescription(payload);\n                    await flushRemoteIce(state);\n                    return;\n                }\n                if (type === \"ice\") {\n                    const ice = payload;\n                    // If we don't have remoteDescription yet, queue it\n                    if (!pc.remoteDescription) {\n                        state.pendingRemoteIce.push(ice);\n                        return;\n                    }\n                    try {\n                        await pc.addIceCandidate(ice);\n                    }\n                    catch (e) {\n                        logLine(\"⚠️ ERROR\", { error: \"add-ice-failed\", userId: state.userId, detail: String(e) });\n                    }\n                    return;\n                }\n            },\n        });\n        roomsEntered.set(`${host}/room/${room}`, { exitRoom, host, room });\n    }\n    function exit({ room, host }) {\n        const key = `${host}/room/${room}`;\n        const session = roomsEntered.get(key);\n        if (session) {\n            session.exitRoom();\n            roomsEntered.delete(key);\n        }\n    }\n    const sendToUser = (userId, data) => {\n        const p = peers.get(userId);\n        if (!p)\n            return;\n        if (p.dataChannel?.readyState === \"open\")\n            p.dataChannel.send(data);\n    };\n    function sendToAll(data) {\n        for (const p of peers.values()) {\n            if (p.dataChannel?.readyState === \"open\")\n                p.dataChannel.send(data);\n        }\n    }\n    return {\n        sendToUser,\n        sendToAll,\n        end: () => {\n            roomsEntered.values().forEach(({ exitRoom }) => exitRoom());\n            roomsEntered.clear();\n            for (const p of peers.values()) {\n                try {\n                    p.dataChannel?.close();\n                }\n                catch { }\n                try {\n                    p.pc.close();\n                }\n                catch { }\n            }\n            peers.clear();\n        },\n        enter,\n        exit,\n    };\n}\n//# sourceMappingURL=webrtc-room.js.map",
    "/**\n * enterRoom connects to the signaling room via WebSocket.\n *\n * Usage:\n *  const { exitRoom } = enterRoom({\n *      room: \"test\",\n *      host: location.host,\n *      onOpen: () => { ... },\n *      onClose: () => { ... },\n *      onError: () => { ... },\n *      onPeerJoined: (user) => { ... },\n *      onMessage: (type, payload, fromUser) => { ... },\n * });\n */\nexport function enterRoom({ userId, room, host, onOpen, onClose, onError, logLine, onPeerJoined, onPeerLeft, onMessage, }) {\n    const wsUrl = \"wss://\" + host + \"/room/\" + room + \"?userId=\" + encodeURIComponent(userId);\n    const ws = new WebSocket(wsUrl);\n    let exited = false;\n    function send(type, toPeerId, payload) {\n        if (exited)\n            return false;\n        const obj = { type, to: toPeerId, payload };\n        ws.send(JSON.stringify(obj));\n        logLine?.(\"👤 ➡️ 🖥️\", obj);\n        return true;\n    }\n    function onmessage(e) {\n        let msg;\n        try {\n            msg = JSON.parse(e.data);\n        }\n        catch {\n            logLine?.(\"⚠️ ERROR\", { error: \"invalid-json\" });\n            return;\n        }\n        logLine?.(\"🖥️ ➡️ 👤\", msg);\n        // Existing client greets newcomers\n        if (msg.type === \"peer-joined\" && msg.peerId && msg.userId) {\n            const { userId, peerId } = msg;\n            onPeerJoined?.({\n                info: { peerId, userId },\n                receive: (type, payload) => {\n                    return send(type, peerId, payload);\n                },\n            });\n            return;\n        }\n        if (msg.type === \"peer-left\" && msg.peerId && msg.userId) {\n            const { userId, peerId } = msg;\n            onPeerLeft?.({ peerId, userId });\n            return;\n        }\n        if (msg.peerId && msg.userId) {\n            const { userId, peerId } = msg;\n            onMessage?.(msg.type, msg.payload, {\n                info: { peerId, userId },\n                receive: (type, payload) => {\n                    return send(type, peerId, payload);\n                },\n            });\n        }\n    }\n    ;\n    ws.addEventListener(\"message\", onmessage);\n    if (onOpen)\n        ws.addEventListener(\"open\", onOpen);\n    if (onClose)\n        ws.addEventListener(\"close\", onClose);\n    if (onError)\n        ws.addEventListener(\"error\", onError);\n    return {\n        exitRoom: () => {\n            exited = true;\n            ws.close();\n            ws.removeEventListener(\"message\", onmessage);\n            if (onOpen)\n                ws.removeEventListener(\"open\", onOpen);\n            if (onClose)\n                ws.removeEventListener(\"close\", onClose);\n            if (onError)\n                ws.removeEventListener(\"error\", onError);\n        },\n    };\n}\n//# sourceMappingURL=signal-room.js.map",
    "// To recognize dom types (see https://bun.sh/docs/typescript#dom-types):\n/// <reference lib=\"dom\" />\n/// <reference lib=\"dom.iterable\" />\n\nimport { Data, Processor, Program } from \"napl\";\nimport { joinWebRTCRoom, enterRoom } from \"@dobuki/hello-worker\";\n\nconst root: Data = {};\n\nconst program = new Program({\n  root,\n});\n\nconst { sendToAll, sendToUser, enter } = joinWebRTCRoom({\n  userId: crypto.randomUUID(),\n  enterRoom,\n  logLine(direction, obj) {\n    console.log(direction, obj);\n  },\n  onMessage(data, from) {\n    program.processor.receivedData(data as ArrayBuffer, program);\n    cycle();\n  },\n});\nenter({ room: \"napl-demo-room\", host: \"hello.dobuki.net\" });\n\nprogram.connectComm({\n  onNewClient(peer: string) {\n    console.log(\"New peer connected:\", peer);\n  },\n  onMessage(data: Uint8Array, from: string): void {\n    console.log(\"Program received data\", data, \"from\", from);\n  },\n  send(data: Uint8Array, peer?: string): void {\n    console.log(\"Sending data\", data, \"to\", peer);\n    if (peer) {\n      sendToUser(data as any, peer);\n    } else {\n      sendToAll(data as any);\n    }\n  },\n});\n\n\nfunction refreshData() {\n  const div: HTMLDivElement = document.querySelector(\"#log-div\") ?? document.body.appendChild(document.createElement(\"div\"));\n  div.id = \"log-div\";\n  div.style.whiteSpace = \"pre\";\n  div.style.fontFamily = \"monospace\";\n  div.style.fontSize = \"20px\";\n  div.textContent = JSON.stringify(root, null, 2);\n\n  const div2: HTMLDivElement = document.querySelector(\"#log-div2\") ?? document.body.appendChild(document.createElement(\"div\"));\n  div2.id = \"log-div2\";\n  div2.style.whiteSpace = \"pre\";\n  div2.style.fontFamily = \"monospace\";\n  div2.style.fontSize = \"12px\";\n  div2.textContent = JSON.stringify(program.outgoingUpdates, null, 2);\n}\n\nconst processor = new Processor();\nprocessor.connectComm({\n  send(data: Uint8Array) {\n    console.log(\"Updates sent out\", data);\n  }\n});\nprocessor.observe().onChange(refreshData);\n\nfunction cycle() {\n  program.processor.performCycle(program);\n  program.refresh?.();\n  refreshData();\n}\n\nfunction setupGamePlayer() {\n  {\n    const button = document.body.appendChild(document.createElement(\"button\"));\n    button.textContent = \"⏯️\";\n    button.addEventListener(\"click\", cycle);\n  }\n  {\n    const button = document.body.appendChild(document.createElement(\"button\"));\n    button.textContent = \"🔄\";\n    button.addEventListener(\"click\", () => {\n      program.outgoingUpdates.push({ path: \"abc\", value: Math.random(), confirmed: 1 });\n      refreshData();\n    });\n  }\n}\n\nsetupGamePlayer();\n\nexport { root };\n"
  ],
  "mappings": "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",
  "debugId": "C38810BF4185D64864756E2164756E21",
  "names": []
}